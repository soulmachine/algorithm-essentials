"use strict";(self.webpackChunkalgorithm_essentials=self.webpackChunkalgorithm_essentials||[]).push([[2423],{69412:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>u,contentTitle:()=>c,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"simulation/max-points-on-a-line","title":"Max Points on a Line","description":"\u63cf\u8ff0","source":"@site/docs/simulation/max-points-on-a-line.md","sourceDirName":"simulation","slug":"/simulation/max-points-on-a-line","permalink":"/en/simulation/max-points-on-a-line","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Max Points on a Line"},"sidebar":"docs","previous":{"title":"Text Justification","permalink":"/en/simulation/text-justification"},"next":{"title":"Sparse Matrix Multiplication","permalink":"/en/simulation/sparse-matrix-multiplication"}}');var i=s(74848),a=s(28453),l=s(11470),o=s(19365);const r={title:"Max Points on a Line"},c=void 0,u={},p=[{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:3},{value:"\u5206\u6790",id:"\u5206\u6790",level:3},{value:"\u4ee5\u8fb9\u4e3a\u4e2d\u5fc3",id:"\u4ee5\u8fb9\u4e3a\u4e2d\u5fc3",level:3},{value:"\u4ee5\u70b9\u4e3a\u4e2d\u5fc3",id:"\u4ee5\u70b9\u4e3a\u4e2d\u5fc3",level:3}];function m(n){const e={annotation:"annotation",code:"code",h3:"h3",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",p:"p",pre:"pre",semantics:"semantics",span:"span",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h3,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,i.jsxs)(e.p,{children:["Given ",(0,i.jsx)(e.code,{children:"n"})," points on a 2D plane, find the maximum number of points that lie on the same straight line."]}),"\n",(0,i.jsx)(e.h3,{id:"\u5206\u6790",children:"\u5206\u6790"}),"\n",(0,i.jsxs)(e.p,{children:["\u66b4\u529b\u679a\u4e3e\u6cd5\u3002\u4e24\u70b9\u51b3\u5b9a\u4e00\u6761\u76f4\u7ebf\uff0c",(0,i.jsx)(e.code,{children:"n"}),"\u4e2a\u70b9\u4e24\u4e24\u7ec4\u5408\uff0c\u53ef\u4ee5\u5f97\u5230",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mstyle,{displaystyle:"true",scriptlevel:"0",children:(0,i.jsxs)(e.mfrac,{children:[(0,i.jsx)(e.mn,{children:"1"}),(0,i.jsx)(e.mn,{children:"2"})]})}),(0,i.jsx)(e.mi,{children:"n"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mi,{children:"n"}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsx)(e.mn,{children:"1"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\dfrac{1}{2}n(n+1)"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"2.0074em",verticalAlign:"-0.686em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(e.span,{className:"mfrac",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsxs)(e.span,{className:"vlist",style:{height:"1.3214em"},children:[(0,i.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"mord",children:(0,i.jsx)(e.span,{className:"mord",children:"2"})})]}),(0,i.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(e.span,{className:"mord",children:(0,i.jsx)(e.span,{className:"mord",children:"1"})})]})]}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.686em"},children:(0,i.jsx)(e.span,{})})})]})}),(0,i.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"+"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord",children:"1"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),"\u6761\u76f4\u7ebf\uff0c\u5bf9\u6bcf\u4e00\u6761\u76f4\u7ebf\uff0c\u5224\u65ad",(0,i.jsx)(e.code,{children:"n"}),"\u4e2a\u70b9\u662f\u5426\u5728\u8be5\u76f4\u7ebf\u4e0a\uff0c\u4ece\u800c\u53ef\u4ee5\u5f97\u5230\u8fd9\u6761\u76f4\u7ebf\u4e0a\u7684\u70b9\u7684\u4e2a\u6570\uff0c\u9009\u62e9\u6700\u5927\u7684\u90a3\u6761\u76f4\u7ebf\u8fd4\u56de\u3002\u590d\u6742\u5ea6",(0,i.jsx)(e.code,{children:"O(n^3)"}),"\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u4e0a\u9762\u7684\u66b4\u529b\u679a\u4e3e\u6cd5\u4ee5\u201c\u8fb9\u201d\u4e3a\u4e2d\u5fc3\uff0c\u518d\u770b\u53e6\u4e00\u79cd\u66b4\u529b\u679a\u4e3e\u6cd5\uff0c\u4ee5\u6bcf\u4e2a\u201c\u70b9\u201d\u4e3a\u4e2d\u5fc3\uff0c\u7136\u540e\u904d\u5386\u5269\u4f59\u70b9\uff0c\u627e\u5230\u6240\u6709\u7684\u659c\u7387\uff0c\u5982\u679c\u659c\u7387\u76f8\u540c\uff0c\u90a3\u4e48\u4e00\u5b9a\u5171\u7ebf\u5bf9\u6bcf\u4e2a\u70b9\uff0c\u7528\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0ckey \u4e3a\u659c\u7387\uff0cvalue \u4e3a\u8be5\u76f4\u7ebf\u4e0a\u7684\u70b9\u6570\uff0c\u8ba1\u7b97\u51fa\u54c8\u5e0c\u8868\u540e\uff0c\u53d6\u6700\u5927\u503c\uff0c\u5e76\u66f4\u65b0\u5168\u5c40\u6700\u5927\u503c\uff0c\u6700\u540e\u5c31\u662f\u7ed3\u679c\u3002\u65f6\u95f4\u590d\u6742\u5ea6",(0,i.jsx)(e.code,{children:"O(n^2)"}),"\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6",(0,i.jsx)(e.code,{children:"O(n)"}),"\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u4ee5\u8fb9\u4e3a\u4e2d\u5fc3",children:"\u4ee5\u8fb9\u4e3a\u4e2d\u5fc3"}),"\n","\n",(0,i.jsxs)(l.A,{defaultValue:"java",values:[{label:"Java",value:"java"},{label:"C++",value:"cpp"}],children:[(0,i.jsx)(o.A,{value:"java",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Max Points on a Line\n// \u66b4\u529b\u679a\u4e3e\u6cd5\uff0c\u4ee5\u8fb9\u4e3a\u4e2d\u5fc3\uff0c\u65f6\u95f4\u590d\u6742\u5ea6O(n^3)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(1)\npublic class Solution {\n    public int maxPoints(Point[] points) {\n        if (points.length < 3) return points.length;\n        int result = 0;\n\n        for (int i = 0; i < points.length - 1; i++) {\n            for (int j = i + 1; j < points.length; j++) {\n                int sign = 0;\n                int a = 0, b = 0, c = 0;\n                if (points[i].x == points[j].x) sign = 1;\n                else {\n                    a = points[j].x - points[i].x;\n                    b = points[j].y - points[i].y;\n                    c = a * points[i].y - b * points[i].x;\n                }\n                int count = 0;\n                for (int k = 0; k < points.length; k++) {\n                    if ((0 == sign && a * points[k].y == c +  b * points[k].x) ||\n                            (1 == sign&&points[k].x == points[j].x))\n                        count++;\n                }\n                if (count > result) result = count;\n            }\n        }\n        return result;\n    }\n}\n"})})}),(0,i.jsx)(o.A,{value:"cpp",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"// Max Points on a Line\n// \u66b4\u529b\u679a\u4e3e\u6cd5\uff0c\u4ee5\u8fb9\u4e3a\u4e2d\u5fc3\uff0c\u65f6\u95f4\u590d\u6742\u5ea6O(n^3)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(1)\nclass Solution {\npublic:\n    int maxPoints(vector<Point> &points) {\n        if (points.size() < 3) return points.size();\n        int result = 0;\n\n        for (int i = 0; i < points.size() - 1; i++) {\n            for (int j = i + 1; j < points.size(); j++) {\n                int sign = 0;\n                int a, b, c;\n                if (points[i].x == points[j].x) sign = 1;\n                else {\n                    a = points[j].x - points[i].x;\n                    b = points[j].y - points[i].y;\n                    c = a * points[i].y - b * points[i].x;\n                }\n                int count = 0;\n                for (int k = 0; k < points.size(); k++) {\n                    if ((0 == sign && a * points[k].y == c +  b * points[k].x) ||\n                        (1 == sign&&points[k].x == points[j].x))\n                        count++;\n                }\n                if (count > result) result = count;\n            }\n        }\n        return result;\n    }\n};\n"})})})]}),"\n",(0,i.jsx)(e.h3,{id:"\u4ee5\u70b9\u4e3a\u4e2d\u5fc3",children:"\u4ee5\u70b9\u4e3a\u4e2d\u5fc3"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"java",values:[{label:"Java",value:"java"},{label:"C++",value:"cpp"}],children:[(0,i.jsx)(o.A,{value:"java",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"// Max Points on a Line\n// \u66b4\u529b\u679a\u4e3e\uff0c\u4ee5\u70b9\u4e3a\u4e2d\u5fc3\uff0c\u65f6\u95f4\u590d\u6742\u5ea6O(n^2)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(n^2)\npublic class Solution {\n    public int maxPoints(Point[] points) {\n        if (points.length < 3) return points.length;\n        int result = 0;\n\n        HashMap<Double, Integer> slope_count = new HashMap<>();\n        for (int i = 0; i < points.length-1; i++) {\n            slope_count.clear();\n            int samePointNum = 0; // \u4e0ei\u91cd\u5408\u7684\u70b9\n            int point_max = 1;    // \u548ci\u5171\u7ebf\u7684\u6700\u5927\u70b9\u6570\n\n            for (int j = i + 1; j < points.length; j++) {\n                final double slope; // \u659c\u7387\n                if (points[i].x == points[j].x) {\n                    slope = Double.POSITIVE_INFINITY;\n                    if (points[i].y == points[j].y) {\n                        ++ samePointNum;\n                        continue;\n                    }\n                } else {\n                    if (points[i].y == points[j].y) {\n                        // 0.0 and -0.0 is the same\n                        slope = 0.0;\n                    } else {\n                        slope = 1.0 * (points[i].y - points[j].y) /\n                                (points[i].x - points[j].x);\n                    }\n                }\n\n                int count = 0;\n                if (slope_count.containsKey(slope)) {\n                    final int tmp = slope_count.get(slope);\n                    slope_count.put(slope, tmp + 1);\n                    count = tmp + 1;\n                } else {\n                    count = 2;\n                    slope_count.put(slope, 2);\n                }\n\n                if (point_max < count) point_max = count;\n            }\n            result = Math.max(result, point_max + samePointNum);\n        }\n        return result;\n    }\n}\n"})})}),(0,i.jsx)(o.A,{value:"cpp",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"// Max Points on a Line\n// \u66b4\u529b\u679a\u4e3e\uff0c\u4ee5\u70b9\u4e3a\u4e2d\u5fc3\uff0c\u65f6\u95f4\u590d\u6742\u5ea6O(n^2)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(n^2)\nclass Solution {\npublic:\n    int maxPoints(vector<Point> &points) {\n        if (points.size() < 3) return points.size();\n        int result = 0;\n\n        unordered_map<double, int> slope_count;\n        for (int i = 0; i < points.size()-1; i++) {\n            slope_count.clear();\n            int samePointNum = 0; // \u4e0ei\u91cd\u5408\u7684\u70b9\n            int point_max = 1;    // \u548ci\u5171\u7ebf\u7684\u6700\u5927\u70b9\u6570\n\n            for (int j = i + 1; j < points.size(); j++) {\n                double slope; // \u659c\u7387\n                if (points[i].x == points[j].x) {\n                    slope = std::numeric_limits<double>::infinity();\n                    if (points[i].y == points[j].y) {\n                        ++ samePointNum;\n                        continue;\n                    }\n                } else {\n                    if (points[i].y == points[j].y) {\n                        // 0.0 and -0.0 is the same\n                        slope = 0.0;\n                    } else {\n                        slope = 1.0 * (points[i].y - points[j].y) /\n                                (points[i].x - points[j].x);\n                    }\n                }\n\n                int count = 0;\n                if (slope_count.find(slope) != slope_count.end())\n                    count = ++slope_count[slope];\n                else {\n                    count = 2;\n                    slope_count[slope] = 2;\n                }\n\n                if (point_max < count) point_max = count;\n            }\n            result = max(result, point_max + samePointNum);\n        }\n        return result;\n    }\n};\n"})})})]})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(m,{...n})}):m(n)}},19365:(n,e,s)=>{s.d(e,{A:()=>l});s(96540);var t=s(34164);const i={tabItem:"tabItem_Ymn6"};var a=s(74848);function l(n){let{children:e,hidden:s,className:l}=n;return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.A)(i.tabItem,l),hidden:s,children:e})}},11470:(n,e,s)=>{s.d(e,{A:()=>N});var t=s(96540),i=s(34164),a=s(23104),l=s(56347),o=s(205),r=s(57485),c=s(31682),u=s(70679);function p(n){return t.Children.toArray(n).filter((n=>"\n"!==n)).map((n=>{if(!n||(0,t.isValidElement)(n)&&function(n){const{props:e}=n;return!!e&&"object"==typeof e&&"value"in e}(n))return n;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof n.type?n.type:n.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(n){const{values:e,children:s}=n;return(0,t.useMemo)((()=>{const n=e??function(n){return p(n).map((n=>{let{props:{value:e,label:s,attributes:t,default:i}}=n;return{value:e,label:s,attributes:t,default:i}}))}(s);return function(n){const e=(0,c.XI)(n,((n,e)=>n.value===e.value));if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map((n=>n.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(n),n}),[e,s])}function d(n){let{value:e,tabValues:s}=n;return s.some((n=>n.value===e))}function h(n){let{queryString:e=!1,groupId:s}=n;const i=(0,l.W6)(),a=function(n){let{queryString:e=!1,groupId:s}=n;if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:e,groupId:s});return[(0,r.aZ)(a),(0,t.useCallback)((n=>{if(!a)return;const e=new URLSearchParams(i.location.search);e.set(a,n),i.replace({...i.location,search:e.toString()})}),[a,i])]}function x(n){const{defaultValue:e,queryString:s=!1,groupId:i}=n,a=m(n),[l,r]=(0,t.useState)((()=>function(n){let{defaultValue:e,tabValues:s}=n;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!d({value:e,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${s.map((n=>n.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=s.find((n=>n.default))??s[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:e,tabValues:a}))),[c,p]=h({queryString:s,groupId:i}),[x,j]=function(n){let{groupId:e}=n;const s=function(n){return n?`docusaurus.tab.${n}`:null}(e),[i,a]=(0,u.Dv)(s);return[i,(0,t.useCallback)((n=>{s&&a.set(n)}),[s,a])]}({groupId:i}),f=(()=>{const n=c??x;return d({value:n,tabValues:a})?n:null})();(0,o.A)((()=>{f&&r(f)}),[f]);return{selectedValue:l,selectValue:(0,t.useCallback)((n=>{if(!d({value:n,tabValues:a}))throw new Error(`Can't select invalid tab value=${n}`);r(n),p(n),j(n)}),[p,j,a]),tabValues:a}}var j=s(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=s(74848);function v(n){let{className:e,block:s,selectedValue:t,selectValue:l,tabValues:o}=n;const r=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),u=n=>{const e=n.currentTarget,s=r.indexOf(e),i=o[s].value;i!==t&&(c(e),l(i))},p=n=>{let e=null;switch(n.key){case"Enter":u(n);break;case"ArrowRight":{const s=r.indexOf(n.currentTarget)+1;e=r[s]??r[0];break}case"ArrowLeft":{const s=r.indexOf(n.currentTarget)-1;e=r[s]??r[r.length-1];break}}e?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":s},e),children:o.map((n=>{let{value:e,label:s,attributes:a}=n;return(0,b.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:n=>r.push(n),onKeyDown:p,onClick:u,...a,className:(0,i.A)("tabs__item",f.tabItem,a?.className,{"tabs__item--active":t===e}),children:s??e},e)}))})}function g(n){let{lazy:e,children:s,selectedValue:a}=n;const l=(Array.isArray(s)?s:[s]).filter(Boolean);if(e){const n=l.find((n=>n.props.value===a));return n?(0,t.cloneElement)(n,{className:(0,i.A)("margin-top--md",n.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:l.map(((n,e)=>(0,t.cloneElement)(n,{key:e,hidden:n.props.value!==a})))})}function y(n){const e=x(n);return(0,b.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,b.jsx)(v,{...e,...n}),(0,b.jsx)(g,{...e,...n})]})}function N(n){const e=(0,j.A)();return(0,b.jsx)(y,{...n,children:p(n.children)},String(e))}},28453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>o});var t=s(96540);const i={},a=t.createContext(i);function l(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);